<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <!-- import CSS -->
  <link rel="stylesheet" href="./plugins/element-ui/lib/theme-chalk/index.css">
  <link rel="stylesheet" href="./css/index.css" />
</head>
<body>
  <div id="app">
    <div id="header">可视化</div>
	<div id="content" :style="{height:winH}">
		<el-tabs v-model="activeName" @tab-click="handleClick">
			<el-tab-pane 
			        :key="item.name" 
			        v-for="(item, index) in tabs" 
			        :label="item.title" 
			        :name="item.name" 
			        :closable="item.close"
			      >
			  <iframe :src="item.location" style="width:100%;border:none;" :style="{height:iframeH}"></iframe>
		    </el-tab-pane>
		</el-tabs>
	</div>
  </div>
</body>
  <!-- import Vue before Element -->
  <script src="./plugins/vue/dist/vue.js"></script>
  <!-- import JavaScript -->
  <script src="./plugins/element-ui/lib/index.js"></script>
  <script>
    new Vue({
      el: '#app',
	  data: function() {
		return { 
			visible: false ,
			winH:document.documentElement.clientHeight-60+"px",
			iframeH:this.winH-55+"px",
			activeName: 'kymf_wb',
			tabs:[
				{
					title: '开源免费(外部)',
					name: 'kymf_wb',
					location: './pages/kymf_wb01/kymf_wb.html'
				},{
					title: '收费共享(外部)',
					name: 'sfgx_wb',
					location: './pages/sfgx_wb.html'
				},{
					title: '可视化大屏',
					name: 'kshdp',
					location: './pages/kshdp.html'
				},{
					title: 'UI资源',
					name: 'uizy',
					location: './pages/uizy.html'
				}
			]
		}
	  },
	  methods: {
		  handleClick(tab, event) {
			console.log(tab, event);
		  }
	  },
	  mounted() {
	      // 首先在Virtual DOM渲染数据时，设置下背景图的高度．
	      this.winH = `${document.documentElement.clientHeight-60}px`;
		  this.iframeH = `${document.documentElement.clientHeight-115}px`;
	      // 然后监听window的resize事件．在浏览器窗口变化时再设置下背景图高度．
	      const that = this;
	      window.onresize = function temp() {
	          that.winH = `${document.documentElement.clientHeight-60}px`;
			  that.iframeH = `${document.documentElement.clientHeight-115}px`;
	      };
	  },
    })
  </script>
  <style></style>
</html>